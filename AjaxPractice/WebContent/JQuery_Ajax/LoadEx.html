<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>

<body>
	<h2>사용자 리스트</h2>
	
	<button id="loadButton">불러오기</button>
	
	<div id="content">		
	</div>
		
	
	<script type="text/javascript">
		/*
			jQuery에서 비동기 요청을 서버로 보낼 때 사용하는 메소드
			
				1. load()
				 - jQuery에서 HTML 콘텐츠를 비동기로 가져와 특정 요소에 삽입하는 메소드
				 - 페이지 전체가 아닌 특정 부분을 서버에서 받아 와 업데이트 하므로, UI가 부드럽게 처리되고, 화면을 빠르게 처리 할 수 있음
				 * 문법
				 	$(selector).load(url, data, callback);
						- url 		데이터를 가져올 페이지 주소
						- data		전송 할 데이터 (생략 가능)
						- callback	응답 받은 후 실행 할 콜백 함수 (생략 가능)
							- response		서버페이지가 응답한 데이터
							- status		상태코드를 담는 변수
							- xhr			XMLHttpRequest 객체
		*/
		$("#loadButton").click(function() {
			
			$("#content").load("UserList.html #user_list", function(response, status, xhr) {

				if (status == "success") {
					console.log("contents load success");
					$("#content").html(response);
				}
				else if (status == "error") {
					console.log("로드 실패 : " + xhr.status + xhr.statusText);
				}
			});
		});
	</script>
</body>

</html>